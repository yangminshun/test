name: 'Cherry pick main into develop'
on:
    pull_request:
        branches:
            - main
        types:
            - closed

jobs:
    test-cherry-pick:
        runs-on: ubuntu-latest
        name: Test the cherry-pick action
        steps:
            - name: Checkout
              uses: actions/checkout@v4
              with:
                  fetch-depth: 0
                  submodules: recursive #If you need to operate on submodules

            - name: Cherry pick
              id: cherry-pick
              uses: wireapp/action-auto-cherry-pick@v1.0.1
              with:
                  target-branch: 'develop' # Branch which will receive the automatic cherry-picks
                  submodules-target-branch: 'develop' # If you want the action to fast-forward the submodules to a specific branch
                  pr-title-suffix: 'üçí'

            - name: Get the output
              run:
                  echo "The created PR number is ${{
                  steps.hello.outputs.pr-number }}"
